<!doctype html><html lang=en class=no-js><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=generator content="Hugo 0.85.0"><meta name=ROBOTS content="INDEX, FOLLOW"><link rel="shortcut icon" href=/favicons/favicon.ico><link rel=apple-touch-icon href=/favicons/apple-touch-icon-180x180.png sizes=180x180><link rel=icon type=image/png href=/favicons/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=/favicons/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/favicons/android-36x36.png sizes=36x36><link rel=icon type=image/png href=/favicons/android-48x48.png sizes=48x48><link rel=icon type=image/png href=/favicons/android-72x72.png sizes=72x72><link rel=icon type=image/png href=/favicons/android-96x96.png sizes=96x96><link rel=icon type=image/png href=/favicons/android-144x144.png sizes=144x144><link rel=icon type=image/png href=/favicons/android-192x192.png sizes=192x192><title>hz custom template use | CloudWeGo</title><meta name=description content="A leading practice for building enterprise cloud native middleware!"><meta property="og:title" content="hz custom template use"><meta property="og:description" content="Hertz provides command-line tools (hz) that support custom template features, including:
 Customize the layout template (i.e., the directory structure of the generated code) Custom package templates (i.e. service-related code structures, including handler, router, etc.)  Users can provide their own templates and rendering parameters, combined with the ability of hz, to complete the custom code generation structure.
Custom layout template  Users can modify or rewrite according to the default template to meet their own needs"><meta property="og:type" content="article"><meta property="og:url" content="/docs/hertz/tutorials/toolkit/template/"><meta property="article:section" content="docs"><meta property="article:published_time" content="2022-07-13T00:00:00+00:00"><meta property="article:modified_time" content="2022-08-26T14:19:44+08:00"><meta property="og:site_name" content="CloudWeGo"><meta itemprop=name content="hz custom template use"><meta itemprop=description content="Hertz provides command-line tools (hz) that support custom template features, including:
 Customize the layout template (i.e., the directory structure of the generated code) Custom package templates (i.e. service-related code structures, including handler, router, etc.)  Users can provide their own templates and rendering parameters, combined with the ability of hz, to complete the custom code generation structure.
Custom layout template  Users can modify or rewrite according to the default template to meet their own needs"><meta itemprop=datePublished content="2022-07-13T00:00:00+00:00"><meta itemprop=dateModified content="2022-08-26T14:19:44+08:00"><meta itemprop=wordCount content="2813"><meta itemprop=keywords content><meta name=twitter:card content="summary"><meta name=twitter:title content="hz custom template use"><meta name=twitter:description content="Hertz provides command-line tools (hz) that support custom template features, including:
 Customize the layout template (i.e., the directory structure of the generated code) Custom package templates (i.e. service-related code structures, including handler, router, etc.)  Users can provide their own templates and rendering parameters, combined with the ability of hz, to complete the custom code generation structure.
Custom layout template  Users can modify or rewrite according to the default template to meet their own needs"><script async src="https://www.googletagmanager.com/gtag/js?id=G-QYWRQRLPRM"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag('js',new Date),gtag('config','G-QYWRQRLPRM')</script><link rel=preload href=/scss/main.min.d201674178e955a8bd21626117358837295708ba1a2b6c81323efdc76010c4b9.css as=style><link href=/scss/main.min.d201674178e955a8bd21626117358837295708ba1a2b6c81323efdc76010c4b9.css rel=stylesheet integrity><script src=https://cdn.staticfile.org/jquery/3.5.1/jquery.min.js integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin=anonymous></script><script src=https://unpkg.com/lunr@2.3.8/lunr.min.js integrity=sha384-vRQ9bDyE0Wnu+lMfm57BlYLO0/XauFuKpVsZPs7KEDwYKktWi5+Kz3MP8++DFlRY crossorigin=anonymous></script><script type=application/javascript>var doNotTrack=!1;doNotTrack||(window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga('create','G-QYWRQRLPRM','auto'),ga('send','pageview'))</script><script async src=https://www.google-analytics.com/analytics.js></script></head><body class=td-page><header><nav class="js-navbar-scroll navbar navbar-expand-xl navbar-dark td-navbar"><a class=navbar-brand href=/><span class=navbar-logo><img src=/img/logo.png></span></a>
<button class=navbar-toggler type=button data-toggle=collapse data-target=#main_navbar aria-controls=main_navbar aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse td-navbar-nav-scroll ml-md-auto" id=main_navbar><ul class="navbar-nav mt-2 mt-lg-0 ml-auto"><li class="dropdown sub-menu"><a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false><span>Documentation</span></a><div class=dropdown-menu aria-labelledby=navbarDropdownMenuLink><a class=dropdown-item href=/docs/kitex/>Kitex</a>
<a class=dropdown-item href=/docs/hertz/>Hertz</a>
<a class=dropdown-item href=/docs/netpoll/>Netpoll</a>
<a class=dropdown-item href=/docs/volo/>Volo</a>
<a class=dropdown-item href=/docs/motore/>Motore</a></div></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/about/><span>About</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/blog/><span>Blog</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/community/><span>Community</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/cooperation/><span>cooperation</span></a></li><li class="dropdown sub-menu"><a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false><span>Security</span></a><div class=dropdown-menu aria-labelledby=navbarDropdownMenuLink><a class=dropdown-item href=/security/safety-bulletin/>safety-bulletin</a>
<a class=dropdown-item href=/security/vulnerability-reporting/>vulnerability-reporting</a></div></li><li class="nav-item dropdown mr-4"><a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>English</a><div class=dropdown-menu aria-labelledby=navbarDropdownMenuLink><a class=dropdown-item href=/zh/docs/hertz/tutorials/toolkit/template/>中文</a></div></li></ul></div><div class="navbar-nav d-none d-lg-block"><input type=search class="form-control td-search-input" placeholder="&#xf002; Search this site…" aria-label="Search this site…" autocomplete=off data-offline-search-index-json-src=/offline-search-index.84038c905cf145680707948daaa0c041.json data-offline-search-base-href=/ data-offline-search-max-results=10></div></nav></header><div class="container-fluid td-outer"><div class=td-main><div class="row flex-xl-nowrap"><aside class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none"><div id=td-sidebar-menu class=td-sidebar__inner><div id=content-mobile><form class="td-sidebar__search d-flex align-items-center"><input type=search class="form-control td-search-input" placeholder="&#xf002; Search this site…" aria-label="Search this site…" autocomplete=off data-offline-search-index-json-src=/offline-search-index.84038c905cf145680707948daaa0c041.json data-offline-search-base-href=/ data-offline-search-max-results=10>
<button class="btn btn-link td-sidebar__toggle d-md-none p-0 ml-3 fas fa-bars" type=button data-toggle=collapse data-target=#td-section-nav aria-controls=td-docs-nav aria-expanded=false aria-label="Toggle section navigation"></button></form></div><div id=content-desktop></div><nav class="collapse td-sidebar-nav" id=td-section-nav><div class="nav-item dropdown d-block d-lg-none"><a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>English</a><div class=dropdown-menu aria-labelledby=navbarDropdownMenuLink><a class=dropdown-item href=/zh/docs/hertz/tutorials/toolkit/template/>中文</a></div></div><ul class="td-sidebar-nav__section pr-md-3 ul-0"><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-docs-li><a href=/docs/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section tree-root" id=m-docs><span>Documentation</span></a><ul class=ul-1><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-docshertz-li><a href=/docs/hertz/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docshertz><span>Hertz</span></a><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertzoverview-li><a href=/docs/hertz/overview/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docshertzoverview><span>Overview</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertzgetting-started-li><a href=/docs/hertz/getting-started/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docshertzgetting-started><span>Getting Started</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-docshertztutorials-li><a href=/docs/hertz/tutorials/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docshertztutorials><span>Tutorials</span></a><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialsexample-li><a href=/docs/hertz/tutorials/example/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docshertztutorialsexample><span>Example code</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docshertztutorialsbasic-feature-li><a href=/docs/hertz/tutorials/basic-feature/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docshertztutorialsbasic-feature><span>Basic Feature</span></a><ul class="ul-4 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialsbasic-featurenetwork-lib-li><a href=/docs/hertz/tutorials/basic-feature/network-lib/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialsbasic-featurenetwork-lib><span>Network Lib</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docshertztutorialsbasic-featuremiddleware-li><a href=/docs/hertz/tutorials/basic-feature/middleware/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docshertztutorialsbasic-featuremiddleware><span>Middleware Overview</span></a><ul class="ul-5 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialsbasic-featuremiddlewarecors-li><a href=/docs/hertz/tutorials/basic-feature/middleware/cors/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialsbasic-featuremiddlewarecors><span>CORS</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialsbasic-featuremiddlewarebasic-auth-li><a href=/docs/hertz/tutorials/basic-feature/middleware/basic-auth/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialsbasic-featuremiddlewarebasic-auth><span>Basic Auth</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialsbasic-featuremiddlewarejwt-li><a href=/docs/hertz/tutorials/basic-feature/middleware/jwt/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialsbasic-featuremiddlewarejwt><span>JWT</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialsbasic-featureprotocol-li><a href=/docs/hertz/tutorials/basic-feature/protocol/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialsbasic-featureprotocol><span>Protocol</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialsbasic-featurebinding-and-validate-li><a href=/docs/hertz/tutorials/basic-feature/binding-and-validate/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialsbasic-featurebinding-and-validate><span>Binding and validate</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialsbasic-featurestream-li><a href=/docs/hertz/tutorials/basic-feature/stream/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialsbasic-featurestream><span>Stream</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialsbasic-featureerror-handle-li><a href=/docs/hertz/tutorials/basic-feature/error-handle/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialsbasic-featureerror-handle><span>Error Handle</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialsbasic-featurelog-li><a href=/docs/hertz/tutorials/basic-feature/log/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialsbasic-featurelog><span>Log</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialsbasic-featuregraceful-shutdown-li><a href=/docs/hertz/tutorials/basic-feature/graceful-shutdown/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialsbasic-featuregraceful-shutdown><span>Graceful Shutdown</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialsbasic-featureforward-proxy-li><a href=/docs/hertz/tutorials/basic-feature/forward-proxy/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialsbasic-featureforward-proxy><span>Forward Proxy</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialsbasic-featureunit-test-li><a href=/docs/hertz/tutorials/basic-feature/unit-test/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialsbasic-featureunit-test><span>Unit Test</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docshertztutorialsservice-governance-li><a href=/docs/hertz/tutorials/service-governance/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docshertztutorialsservice-governance><span>Service Governance</span></a><ul class="ul-4 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialsservice-governancemonitoring-li><a href=/docs/hertz/tutorials/service-governance/monitoring/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialsservice-governancemonitoring><span>Monitoring</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialsservice-governancetracing-li><a href=/docs/hertz/tutorials/service-governance/tracing/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialsservice-governancetracing><span>Tracing</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialsservice-governanceservice_discovery-li><a href=/docs/hertz/tutorials/service-governance/service_discovery/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialsservice-governanceservice_discovery><span>Service Registration and Service Discovery</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docshertztutorialsframework-exten-li><a href=/docs/hertz/tutorials/framework-exten/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docshertztutorialsframework-exten><span>Framework Extension</span></a><ul class="ul-4 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialsframework-extenmonitor-li><a href=/docs/hertz/tutorials/framework-exten/monitor/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialsframework-extenmonitor><span>Monitoring Extension</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialsframework-extenlog-li><a href=/docs/hertz/tutorials/framework-exten/log/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialsframework-extenlog><span>Logger Extension</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docshertztutorialsframework-extenadvanced-exten-li><a href=/docs/hertz/tutorials/framework-exten/advanced-exten/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docshertztutorialsframework-extenadvanced-exten><span>Advanced Extensions</span></a><ul class="ul-5 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialsframework-extenadvanced-extennetwork-lib-li><a href=/docs/hertz/tutorials/framework-exten/advanced-exten/network-lib/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialsframework-extenadvanced-extennetwork-lib><span>Network Library Extensions</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialsframework-extenadvanced-extenprotocol-li><a href=/docs/hertz/tutorials/framework-exten/advanced-exten/protocol/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialsframework-extenadvanced-extenprotocol><span>Protocol extension</span></a></li></ul></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-docshertztutorialstoolkit-li><a href=/docs/hertz/tutorials/toolkit/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docshertztutorialstoolkit><span>hz command line tool</span></a><ul class="ul-4 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialstoolkittoolkit-li><a href=/docs/hertz/tutorials/toolkit/toolkit/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialstoolkittoolkit><span>hz toolkit usage</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child active-path" id=m-docshertztutorialstoolkittemplate-li><a href=/docs/hertz/tutorials/toolkit/template/ class="align-left pl-0 active td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialstoolkittemplate><span class=td-sidebar-nav-active-item>hz custom template use</span></a></li></ul></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docshertzreference-li><a href=/docs/hertz/reference/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docshertzreference><span>Reference</span></a><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertzreferenceconfig-li><a href=/docs/hertz/reference/config/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertzreferenceconfig><span>Configuration instruction</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertzreferenceversion-li><a href=/docs/hertz/reference/version/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertzreferenceversion><span>Version Descriptions</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertzreferencejson-li><a href=/docs/hertz/reference/json/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertzreferencejson><span>JSON Marshal Library</span></a></li></ul></li></ul></li></ul></li></ul></nav></div></aside><aside class="d-none d-xl-block col-xl-2 td-sidebar-toc d-print-none"><div class="td-page-meta ml-2 pb-1 pt-2 mb-0"><a href=https://github.com/cloudwego/cloudwego.github.io/edit/main/content/en/docs/hertz/tutorials/toolkit/template.md target=_blank><i class="fa fa-edit fa-fw"></i> Edit this page</a>
<a href="https://github.com/cloudwego/cloudwego.github.io/new/main/content/en/docs/hertz/tutorials/toolkit/template.md?filename=change-me.md&value=---%0Atitle%3A+%22Long+Page+Title%22%0AlinkTitle%3A+%22Short+Nav+Title%22%0Aweight%3A+100%0Adescription%3A+%3E-%0A+++++Page+description+for+heading+and+indexes.%0A---%0A%0A%23%23+Heading%0A%0AEdit+this+template+to+create+your+new+page.%0A%0A%2A+Give+it+a+good+name%2C+ending+in+%60.md%60+-+e.g.+%60getting-started.md%60%0A%2A+Edit+the+%22front+matter%22+section+at+the+top+of+the+page+%28weight+controls+how+its+ordered+amongst+other+pages+in+the+same+directory%3B+lowest+number+first%29.%0A%2A+Add+a+good+commit+message+at+the+bottom+of+the+page+%28%3C80+characters%3B+use+the+extended+description+field+for+more+detail%29.%0A%2A+Create+a+new+branch+so+you+can+preview+your+new+file+and+request+a+review+via+Pull+Request.%0A" target=_blank><i class="fa fa-edit fa-fw"></i> Create child page</a>
<a href="https://github.com/cloudwego/cloudwego.github.io/issues/new?title=hz%20custom%20template%20use" target=_blank><i class="fab fa-github fa-fw"></i> Create documentation issue</a>
<a href=https://github.com/cloudwego/kitex/issues/new target=_blank><i class="fas fa-tasks fa-fw"></i> Create project issue</a></div><div class=td-toc><nav id=TableOfContents><ul><li><a href=#idl>IDL</a></li><li><a href=#command>Command</a></li><li><a href=#the-meaning-of-the-default-layout-template>The meaning of the default layout template</a></li><li><a href=#the-meaning-of-template-rendering-parameter-file>The meaning of template rendering parameter file</a></li><li><a href=#customize-a-layout-template>Customize a layout template</a><ul><li><a href=#template>template:</a></li><li><a href=#render-data>render data:</a></li></ul></li></ul><ul><li><a href=#command-1>Command</a></li><li><a href=#default-package-template>Default package template</a></li><li><a href=#customize-a-package-template>Customize a package template</a><ul><li><a href=#template-1>template:</a></li></ul></li></ul><ul><li><a href=#precautions-for-using-layout-templates>Precautions for using layout templates</a></li><li><a href=#precautions-for-using-package-templates>Precautions for using package templates</a></li></ul></nav></div></aside><main class="col-12 col-md-9 col-xl-8 pl-md-5" role=main><nav aria-label=breadcrumb class="d-none d-md-block d-print-none"><ol class="breadcrumb spb-1"><li class=breadcrumb-item><a href=/docs/>Documentation</a></li><li class=breadcrumb-item><a href=/docs/hertz/>Hertz</a></li><li class=breadcrumb-item><a href=/docs/hertz/tutorials/>Tutorials</a></li><li class=breadcrumb-item><a href=/docs/hertz/tutorials/toolkit/>hz command line tool</a></li><li class="breadcrumb-item active" aria-current=page><a href=/docs/hertz/tutorials/toolkit/template/>hz custom template use</a></li></ol></nav><div class=td-content><h1>hz custom template use</h1><header class=article-meta></header><p>Hertz provides command-line tools (hz) that support custom template features, including:</p><ul><li>Customize the layout template (i.e., the directory structure of the generated code)</li><li>Custom package templates (i.e. service-related code structures, including handler, router, etc.)</li></ul><p>Users can provide their own templates and rendering parameters, combined with the ability of hz, to complete the custom code generation structure.</p><h1 id=custom-layout-template>Custom layout template</h1><blockquote><p>Users can modify or rewrite according to the default template to meet their own needs</p></blockquote><p>Hz takes advantage of the &ldquo;go template&rdquo; capability to support defining templates in &ldquo;yaml&rdquo; format and uses &ldquo;json&rdquo; format to define rendering data.</p><p>The so-called layout template refers to the structure of the entire project. These structures have nothing to do with the specific idl definition, and can be directly generated without idl. The default structure is as follows:</p><pre><code>.
├── biz
│   ├── handler
│   │   └── ping.go
│   │   └── ****.go               // Set of handlers divided by service, the position can be changed according to handler_dir
│   ├── model
│   │   └── model.go              // idl generated struct, the position can be changed according to model_dir
│   └── router //undeveloped custom dir
│        └── register.go          // Route registration, used to call the specific route registration
│             └── route.go        // Specific route registration location
│             └── middleware.go   // Default middleware build location
├── .hz                           // hz Create code flags
├── go.mod
├── main.go                       // Start the entrance
├── router.go                     // User-defined route write location
└── router_gen.go                 // hz generated route registration call
</code></pre><h2 id=idl>IDL</h2><pre><code>// hello.thrift
namespace go hello.example

struct HelloReq {
    1: string Name (api.query=&quot;name&quot;);
}

struct HelloResp {
    1: string RespBody;
}


service HelloService {
    HelloResp HelloMethod(1: HelloReq request) (api.get=&quot;/hello&quot;);
}
</code></pre><h2 id=command>Command</h2><pre><code>hz new --mod=github.com/hertz/hello --idl=./hertzDemo/hello.thrift --customize_layout=template/layout.yaml:template/data.json
</code></pre><h2 id=the-meaning-of-the-default-layout-template>The meaning of the default layout template</h2><blockquote><p>Note: The following bodies are all go templates</p></blockquote><pre><code>layouts:
  # The directory of the generated handler will only be generated if there are files in the directory
  - path: biz/handler/
    delims:
      - &quot;&quot;
      - &quot;&quot;
    body: &quot;&quot;
  # The directory of the generated model will only be generated if there are files in the directory
  - path: biz/model/
    delims:
      - &quot;&quot;
      - &quot;&quot;
    body: &quot;&quot;
  # project main file
  - path: main.go
    delims:
      - &quot;&quot;
      - &quot;&quot;
    body: |-
      // Code generated by hertz generator.

      package main

      import (
      	&quot;github.com/cloudwego/hertz/pkg/app/server&quot;
      )

      func main() {
      	h := server.Default()

      	register(h)
      	h.Spin()
      }
  # go.mod file, need template rendering data {{.GoModule}} to generate
  - path: go.mod
    delims:
      - '{{'
      - '}}'
    body: |-
      module {{.GoModule}}
      {{- if .UseApacheThrift}}
      replace github.com/apache/thrift =&gt; github.com/apache/thrift v0.13.0
      {{- end}}
  # .gitignore file
  - path: .gitignore
    delims:
      - &quot;&quot;
      - &quot;&quot;
    body: &quot;*.o\n*.a\n*.so\n_obj\n_test\n*.[568vq]\n[568vq].out\n*.cgo1.go\n*.cgo2.c\n_cgo_defun.c\n_cgo_gotypes.go\n_cgo_export.*\n_testmain.go\n*.exe\n*.exe~\n*.test\n*.prof\n*.rar\n*.zip\n*.gz\n*.psd\n*.bmd\n*.cfg\n*.pptx\n*.log\n*nohup.out\n*settings.pyc\n*.sublime-project\n*.sublime-workspace\n!.gitkeep\n.DS_Store\n/.idea\n/.vscode\n/output\n*.local.yml\ndumped_hertz_remote_config.json\n\t\t
    \ &quot;
  # .hz file, containing hz version, is the logo of the project created by hz, no need to transfer rendering data
  - path: .hz
    delims:
      - '{{'
      - '}}'
    body: |-
      // Code generated by hz. DO NOT EDIT.

      hz version: {{.hzVersion}}
  # ping comes with ping handler
  - path: biz/handler/ping.go
    delims:
      - &quot;&quot;
      - &quot;&quot;
    body: |-
      // Code generated by hertz generator.

      package handler

      import (
      	&quot;context&quot;

      	&quot;github.com/cloudwego/hertz/pkg/app&quot;
      	&quot;github.com/cloudwego/hertz/pkg/common/utils&quot;
      )

      // Ping .
      func Ping(ctx context.Context, c *app.RequestContext) {
      	c.JSON(200, utils.H{
      		&quot;message&quot;: &quot;pong&quot;,
      	})
      }
  # `router_gen.go` is the file that defines the route registration
  - path: router_gen.go
    delims:
      - &quot;&quot;
      - &quot;&quot;
    body: |-
      // Code generated by hertz generator. DO NOT EDIT.

      package main

      import (
      	&quot;github.com/cloudwego/hertz/pkg/app/server&quot;
      	router &quot;{{.RouterPkgPath}}&quot;
      )

      // register registers all routers.
      func register(r *server.Hertz) {

      	router.GeneratedRegister(r)

      	customizedRegister(r)
      }
  # Custom route registration file
  - path: router.go
    delims:
      - &quot;&quot;
      - &quot;&quot;
    body: |-
      // Code generated by hertz generator.

      package main

      import (
      	&quot;github.com/cloudwego/hertz/pkg/app/server&quot;
      	handler &quot;{{.HandlerPkgPath}}&quot;
      )

      // customizeRegister registers customize routers.
      func customizedRegister(r *server.Hertz){
      	r.GET(&quot;/ping&quot;, handler.Ping)

      	// your code ...
      }
  # Default route registration file, do not modify it
  - path: biz/router/register.go
    delims:
      - &quot;&quot;
      - &quot;&quot;
    body: |-
      // Code generated by hertz generator. DO NOT EDIT.

      package router

      import (
      	&quot;github.com/cloudwego/hertz/pkg/app/server&quot;
      )

      // GeneratedRegister registers routers generated by IDL.
      func GeneratedRegister(r *server.Hertz){
      	//INSERT_POINT: DO NOT DELETE THIS LINE!
      }
</code></pre><h2 id=the-meaning-of-template-rendering-parameter-file>The meaning of template rendering parameter file</h2><p>When a custom template and render data are specified, the options specified on the command line will not be used as render data, so the render data in the template needs to be defined by the user.</p><p>Hz uses &ldquo;json&rdquo; to specify render data, as described below</p><pre><code>{
  // global render parameters
  &quot;*&quot;: {
    &quot;GoModule&quot;: &quot;github.com/hz/test&quot;, // must be consistent with the command line, otherwise the subsequent generation of model, handler and other code will use the mod specified by the command line, resulting in inconsistency.
    &quot;ServiceName&quot;: &quot;p.s.m&quot;, // as specified on the command line
    &quot;UseApacheThrift&quot;: false // Set &quot;true&quot;/&quot;false&quot; depending on whether to use &quot;thrift&quot;
  },
  // router_gen.go route the registered render data,
  // &quot;biz/router&quot;points to the module of the routing code registered by the default idl, do not modify it
  &quot;router_gen.go&quot;: {
    &quot;RouterPkgPath&quot;: &quot;github.com/hz/test/biz/router&quot;
  }
}
</code></pre><h2 id=customize-a-layout-template>Customize a layout template</h2><blockquote><p>At present, the project layout generated by hz is already the most basic skeleton of a hertz project, so it is not recommended to delete the files in the existing template.</p><p>However, if the user wants a different layout, of course, you can also delete the corresponding file according to your own needs (except &ldquo;biz/register.go&rdquo;, the rest can be modified)</p><p>We welcome users to contribute their own templates</p></blockquote><p>Assuming that the user only wants &ldquo;main.go&rdquo; and &ldquo;go.mod&rdquo; files, then we modify the default template as follows:</p><h3 id=template>template:</h3><pre><code>// layout.yaml
layouts:
  # project main file
  - path: main.go
    delims:
      - &quot;&quot;
      - &quot;&quot;
    body: |-
      // Code generated by hertz generator.

      package main

      import (
      	&quot;github.com/cloudwego/hertz/pkg/app/server&quot;
        &quot;{{.GoModule}}/biz/router&quot;
      )

      func main() {
      	h := server.Default()

        router.GeneratedRegister(h)
        // do what you wanted
        // add some render data: {{.MainData}}

      	h.Spin()
      }

  # go.mod file, need template rendering data {{.GoModule}} to generate
  - path: go.mod
    delims:
      - '{{'
      - '}}'
    body: |-
      module {{.GoModule}}
      {{- if .UseApacheThrift}}
      replace github.com/apache/thrift =&gt; github.com/apache/thrift v0.13.0
      {{- end}}
  # Default route registration file, no need to modify
  - path: biz/router/register.go
    delims:
      - &quot;&quot;
      - &quot;&quot;
    body: |-
      // Code generated by hertz generator. DO NOT EDIT.

      package router

      import (
      	&quot;github.com/cloudwego/hertz/pkg/app/server&quot;
      )

      // GeneratedRegister registers routers generated by IDL.
      func GeneratedRegister(r *server.Hertz){
      	//INSERT_POINT: DO NOT DELETE THIS LINE!
      }
</code></pre><h3 id=render-data>render data:</h3><pre><code>{
  &quot;*&quot;: {
    &quot;GoModule&quot;: &quot;github.com/hertz/hello&quot;,
    &quot;ServiceName&quot;: &quot;hello&quot;,
    &quot;UseApacheThrift&quot;: true
  },
  &quot;main.go&quot;: {
    &quot;MainData&quot;: &quot;this is customized render data&quot;
  }
}
</code></pre><p>Command:</p><pre><code>hz new --mod=github.com/hertz/hello --idl=./hertzDemo/hello.thrift --customize_layout=template/layout.yaml:template/data.json
</code></pre><h1 id=custom-package-template>Custom package template</h1><blockquote><p>The template address of the hz template:</p><p>Users can modify or rewrite according to the default template to meet their own needs</p></blockquote><ul><li>The so-called package template refers to the code related to the idl definition. This part of the code involves the service, go_package/namespace, etc. specified when defining idl. It mainly includes the following parts:</li><li>handler.go: Handling function logic</li><li>router.go: the route registration logic of the service defined by the specific idl</li><li>register.go: logic for calling the content in <code>router.go</code></li><li><del>Model code: generated go struct; however, since the tool that uses plugins to generate model code currently does not have permission to modify the model template, this part of the function is not open for now</del></li></ul><h2 id=command-1>Command</h2><pre><code># After that, the package template rendering data will be provided, so the form of &quot;k-v&quot; is retained when entering the command, and &quot;:&quot; needs to be added after customize_package.
hz new --mod=github.com/hertz/hello --handler_dir=handler_test --idl=hertzDemo/hello.thrift --customize_package=template/package.yaml:
</code></pre><h2 id=default-package-template>Default package template</h2><p>Note: Custom package templates do not provide the ability to render data.</p><pre><code>layouts:
  # Path only represents handler.go template, the specific handler path is determined by the default path and handler_dir
  - path: handler.go
    delims:
      - '{{'
      - '}}'
    body: |-
      // Code generated by hertz generator.

      package {{.PackageName}}

      import (
      	&quot;context&quot;

      	&quot;github.com/cloudwego/hertz/pkg/app&quot;

      {{- range $k, $v := .Imports}}
      	{{$k}} &quot;{{$v.Package}}&quot;
      {{- end}}
      )

      {{range $_, $MethodInfo := .Methods}}
      {{$MethodInfo.Comment}}
      func {{$MethodInfo.Name}}(ctx context.Context, c *app.RequestContext) {
      	var err error
      	{{if ne $MethodInfo.RequestTypeName &quot;&quot; -}}
      	var req {{$MethodInfo.RequestTypeName}}
      	err = c.BindAndValidate(&amp;req)
      	if err != nil {
      		c.String(400, err.Error())
      		return
      	}
      	{{end}}
      	resp := new({{$MethodInfo.ReturnTypeName}})

      	c.{{.Serializer}}(200, resp)
      }
      {{end}}
  # path only represents router.go template, its path is fixed at: biz/router/namespace/
  - path: router.go
    delims:
      - '{{'
      - '}}'
    body: |-
      // Code generated by hertz generator. DO NOT EDIT.

      package {{$.PackageName}}

      import (
      	&quot;github.com/cloudwego/hertz/pkg/app/server&quot;

      	{{range $k, $v := .HandlerPackages}}{{$k}} &quot;{{$v}}&quot;{{end}}
      )

      /*
       This file will register all the routes of the services in the master idl.
       And it will update automatically when you use the &quot;update&quot; command for the idl.
       So don't modify the contents of the file, or your code will be deleted when it is updated.
       */

      {{define &quot;g&quot;}}
      {{- if eq .Path &quot;/&quot;}}r
      {{- else}}{{.GroupName}}{{end}}
      {{- end}}

      {{define &quot;G&quot;}}
      {{- if ne .Handler &quot;&quot;}}
      	{{- .GroupName}}.{{.HttpMethod}}(&quot;{{.Path}}&quot;, append({{.MiddleWare}}Mw(), {{.Handler}})...)
      {{- end}}
      {{- if ne (len .Children) 0}}
      {{.MiddleWare}} := {{template &quot;g&quot; .}}.Group(&quot;{{.Path}}&quot;, {{.MiddleWare}}Mw()...)
      {{- end}}
      {{- range $_, $router := .Children}}
      {{- if ne .Handler &quot;&quot;}}
      	{{template &quot;G&quot; $router}}
      {{- else}}
      	{	{{template &quot;G&quot; $router}}
      	}
      {{- end}}
      {{- end}}
      {{- end}}

      // Register register routes based on the IDL 'api.${HTTP Method}' annotation.
      func Register(r *server.Hertz) {
      {{template &quot;G&quot; .Router}}
      }
  # path only represents register.go template, the path of register is fixed to biz/router/register.go
  - path: register.go
    delims:
      - &quot;&quot;
      - &quot;&quot;
    body: |-
      // Code generated by hertz generator. DO NOT EDIT.

      package router

      import (
      	&quot;github.com/cloudwego/hertz/pkg/app/server&quot;
      	{{$.PkgAlias}} &quot;{{$.Pkg}}&quot;
      )

      // GeneratedRegister registers routers generated by IDL.
      func GeneratedRegister(r *server.Hertz){
      	//INSERT_POINT: DO NOT DELETE THIS LINE!
      	{{$.PkgAlias}}.Register(r)
      }
  - path: model.go
    delims:
      - &quot;&quot;
      - &quot;&quot;
    body: &quot;&quot;
  # path only represents middleware.go template, the path of middleware is the same as router.go: biz/router/namespace/
  - path: middleware.go
    delims:
      - '{{'
      - '}}'
    body: |-
      // Code generated by hertz generator.

      package {{$.PackageName}}

      import (
      	&quot;github.com/cloudwego/hertz/pkg/app&quot;
      )

      {{define &quot;M&quot;}}
      func {{.MiddleWare}}Mw() []app.HandlerFunc {
      	// your code...
      	return nil
      }
      {{range $_, $router := $.Children}}{{template &quot;M&quot; $router}}{{end}}
      {{- end}}

      {{template &quot;M&quot; .Router}}
  # path only represents the template of the client.go, the generation path of the client code is specified by the user &quot;${client_dir}&quot;
  - path: client.go
    delims:
      - '{{'
      - '}}'
    body: |-
      // Code generated by hertz generator.

      package {{$.PackageName}}

      import (
          &quot;github.com/cloudwego/hertz/pkg/app/client&quot;
      	&quot;github.com/cloudwego/hertz/pkg/common/config&quot;
      )

      type {{.ServiceName}}Client struct {
      	client * client.Client
      }

      func New{{.ServiceName}}Client(opt ...config.ClientOption) (*{{.ServiceName}}Client, error) {
      	c, err := client.NewClient(opt...)
      	if err != nil {
      		return nil, err
      	}

      	return &amp;{{.ServiceName}}Client{
      		client: c,
      	}, nil
      }
  # handler_single means a separate handler template, which is used to update each new handler when updating
  - path: handler_single.go
    delims:
      - '{{'
      - '}}'
    body: |+
      {{.Comment}}
      func {{.Name}}(ctx context.Context, c *app.RequestContext) {
      // this my demo
      	var err error
      	{{if ne .RequestTypeName &quot;&quot; -}}
      	var req {{.RequestTypeName}}
      	err = c.BindAndValidate(&amp;req)
      	if err != nil {
      		c.String(400, err.Error())
      		return
      	}
      	{{end}}
      	resp := new({{.ReturnTypeName}})

      	c.{{.Serializer}}(200, resp)
      }
  # middleware_single means a separate middleware template, used to update each new middleware when updating
  - path: middleware_single.go
    delims:
      - '{{'
      - '}}'
    body: |+
      func {{.MiddleWare}}Mw() []app.HandlerFunc {
      	// your code...
      	return nil
      }

</code></pre><h2 id=customize-a-package-template>Customize a package template</h2><blockquote><p>Like layout templates, users can also customize package templates.</p><p>As far as the templates provided by the package are concerned, the average user may only need to customize handler.go templates, because router.go/middleware.go/register.go are generally related to the idl definition and the user does not need to care, so hz currently also fixes the location of these templates, and generally does not need to be modified.</p><p>Therefore, users can customize the generated handler template according to their own needs to speed up development; however, since the default handler template integrates some model information and package information, the hz tool is required to provide rendering data. This part of the user can modify it according to their own situation, and it is generally recommended to leave model information.</p></blockquote><p>Here is an example of a simple custom handler template, adding some comments to the handler:</p><h3 id=template-1>template:</h3><pre><code>layouts:
  # Path only represents handler.go template, the specific handler path is determined by the default path and handler_dir
  - path: handler.go
    delims:
      - '{{'
      - '}}'
    body: |-
      // this is my custom handler.

      package {{.PackageName}}

      import (
      	&quot;context&quot;

      	&quot;github.com/cloudwego/hertz/pkg/app&quot;

      {{- range $k, $v := .Imports}}
      	{{$k}} &quot;{{$v.Package}}&quot;
      {{- end}}
      )

      {{range $_, $MethodInfo := .Methods}}
      {{$MethodInfo.Comment}}
      func {{$MethodInfo.Name}}(ctx context.Context, c *app.RequestContext) {
        //  you can code something
      	var err error
      	{{if ne $MethodInfo.RequestTypeName &quot;&quot; -}}
      	var req {{$MethodInfo.RequestTypeName}}
      	err = c.BindAndValidate(&amp;req)
      	if err != nil {
      		c.String(400, err.Error())
      		return
      	}
      	{{end}}
      	resp := new({{$MethodInfo.ReturnTypeName}})

      	c.{{.Serializer}}(200, resp)
      }
      {{end}}
  # path only represents router.go template, its path is fixed at: biz/router/namespace/
  - path: router.go
    delims:
      - '{{'
      - '}}'
    body: |-
      // Code generated by hertz generator. DO NOT EDIT.

      package {{$.PackageName}}

      import (
      	&quot;github.com/cloudwego/hertz/pkg/app/server&quot;

      	{{range $k, $v := .HandlerPackages}}{{$k}} &quot;{{$v}}&quot;{{end}}
      )

      /*
       This file will register all the routes of the services in the master idl.
       And it will update automatically when you use the &quot;update&quot; command for the idl.
       So don't modify the contents of the file, or your code will be deleted when it is updated.
       */

      {{define &quot;g&quot;}}
      {{- if eq .Path &quot;/&quot;}}r
      {{- else}}{{.GroupName}}{{end}}
      {{- end}}

      {{define &quot;G&quot;}}
      {{- if ne .Handler &quot;&quot;}}
      	{{- .GroupName}}.{{.HttpMethod}}(&quot;{{.Path}}&quot;, append({{.MiddleWare}}Mw(), {{.Handler}})...)
      {{- end}}
      {{- if ne (len .Children) 0}}
      {{.MiddleWare}} := {{template &quot;g&quot; .}}.Group(&quot;{{.Path}}&quot;, {{.MiddleWare}}Mw()...)
      {{- end}}
      {{- range $_, $router := .Children}}
      {{- if ne .Handler &quot;&quot;}}
      	{{template &quot;G&quot; $router}}
      {{- else}}
      	{	{{template &quot;G&quot; $router}}
      	}
      {{- end}}
      {{- end}}
      {{- end}}

      // Register register routes based on the IDL 'api.${HTTP Method}' annotation.
      func Register(r *server.Hertz) {
      {{template &quot;G&quot; .Router}}
      }
  # path only represents register.go template, the path of register is fixed to biz/router/register.go
  - path: register.go
    delims:
      - &quot;&quot;
      - &quot;&quot;
    body: |-
      // Code generated by hertz generator. DO NOT EDIT.

      package router

      import (
      	&quot;github.com/cloudwego/hertz/pkg/app/server&quot;
      	{{$.PkgAlias}} &quot;{{$.Pkg}}&quot;
      )

      // GeneratedRegister registers routers generated by IDL.
      func GeneratedRegister(r *server.Hertz){
      	//INSERT_POINT: DO NOT DELETE THIS LINE!
      	{{$.PkgAlias}}.Register(r)
      }
  - path: model.go
    delims:
      - &quot;&quot;
      - &quot;&quot;
    body: &quot;&quot;
  # path only represents middleware.go template, the path of middleware is the same as router.go: biz/router/namespace/
  - path: middleware.go
    delims:
      - '{{'
      - '}}'
    body: |-
      // Code generated by hertz generator.

      package {{$.PackageName}}

      import (
      	&quot;github.com/cloudwego/hertz/pkg/app&quot;
      )

      {{define &quot;M&quot;}}
      func {{.MiddleWare}}Mw() []app.HandlerFunc {
      	// your code...
      	return nil
      }
      {{range $_, $router := $.Children}}{{template &quot;M&quot; $router}}{{end}}
      {{- end}}

      {{template &quot;M&quot; .Router}}
  # path only represents the template of the client.go, the generation path of the client code is specified by the user &quot;${client_dir}&quot;
  - path: client.go
    delims:
      - '{{'
      - '}}'
    body: |-
      // Code generated by hertz generator.

      package {{$.PackageName}}

      import (
          &quot;github.com/cloudwego/hertz/pkg/app/client&quot;
      	&quot;github.com/cloudwego/hertz/pkg/common/config&quot;
      )

      type {{.ServiceName}}Client struct {
      	client * client.Client
      }

      func New{{.ServiceName}}Client(opt ...config.ClientOption) (*{{.ServiceName}}Client, error) {
      	c, err := client.NewClient(opt...)
      	if err != nil {
      		return nil, err
      	}

      	return &amp;{{.ServiceName}}Client{
      		client: c,
      	}, nil
      }
  # handler_single means a separate handler template, which is used to update each new handler when updating
  - path: handler_single.go
    delims:
      - '{{'
      - '}}'
    body: |+
      {{.Comment}}
      func {{.Name}}(ctx context.Context, c *app.RequestContext) {
      // this my demo
      	var err error
      	{{if ne .RequestTypeName &quot;&quot; -}}
      	var req {{.RequestTypeName}}
      	err = c.BindAndValidate(&amp;req)
      	if err != nil {
      		c.String(400, err.Error())
      		return
      	}
      	{{end}}
      	resp := new({{.ReturnTypeName}})

      	c.{{.Serializer}}(200, resp)
      }
  # middleware_single means a separate middleware template, used to update each new middleware when updating
  - path: middleware_single.go
    delims:
      - '{{'
      - '}}'
    body: |+
      func {{.MiddleWare}}Mw() []app.HandlerFunc {
      	// your code...
      	return nil
      }

</code></pre><p>Command:</p><pre><code># After that, the package template rendering data will be provided, so the form of &quot;k-v&quot; is retained when entering the command, and &quot;:&quot; needs to be added after customize_package.
hz new --mod=github.com/hertz/hello --handler_dir=handler_test --idl=hertzDemo/hello.thrift --customize_package=template/package.yaml:
</code></pre><p>The handler is generated as follows:</p><pre><code>// this is my custom handler.

package example

import (
	&quot;context&quot;

	&quot;github.com/cloudwego/hertz/pkg/app&quot;
	example &quot;test/test2/biz/model/hello/example&quot;
)

// HelloMethod .
// @router /hello [GET]
func HelloMethod(ctx context.Context, c *app.RequestContext) {
	//  you can code something
	var err error
	var req example.HelloReq
	err = c.BindAndValidate(&amp;req)
	if err != nil {
		c.String(400, err.Error())
		return
	}

	resp := new(example.HelloResp)

	c.JSON(200, resp)
}

// OtherMethod .
// @router /other [POST]
func OtherMethod(ctx context.Context, c *app.RequestContext) {
	//  you can code something
	var err error
	var req example.OtherReq
	err = c.BindAndValidate(&amp;req)
	if err != nil {
		c.String(400, err.Error())
		return
	}

	resp := new(example.OtherResp)

	c.JSON(200, resp)
}

</code></pre><h1 id=precautions>Precautions</h1><h2 id=precautions-for-using-layout-templates>Precautions for using layout templates</h2><p>When the user uses the layout custom template, the generated layout and rendering data are taken over by the user, so the user needs to provide the rendering data of the defined layout.</p><h2 id=precautions-for-using-package-templates>Precautions for using package templates</h2><p>Generally speaking, when users use package templates, most of them are to modify the default handler template; however, hz does not provide a single handler template at present, so when updating an existing handler file, the default handler template will be used to append a new handler function to the end of the handler file. When the corresponding handler file does not exist, a custom template will be used to generate the handler file.</p><style>.feedback--answer{display:inline-block}.feedback--answer-no{margin-left:1em}.feedback--response{display:none;margin-top:1em}.feedback--response__visible{display:block}</style><div class=d-print-none><h2 class=feedback--title>Feedback</h2><p class=feedback--question>Was this page helpful?</p><button class="btn btn-primary mb-4 feedback--answer feedback--answer-yes">Yes</button>
<button class="btn btn-primary mb-4 feedback--answer feedback--answer-no">No</button><p class="feedback--response feedback--response-yes"><a href=https://github.com/cloudwego/cloudwego.github.io/issues/new>Please tell us how we can improve</a>.</p><p class="feedback--response feedback--response-no"><a href=https://github.com/cloudwego/cloudwego.github.io/issues/new>Please tell us how we can improve</a>.</p></div><script>const yesButton=document.querySelector('.feedback--answer-yes'),noButton=document.querySelector('.feedback--answer-no'),yesResponse=document.querySelector('.feedback--response-yes'),noResponse=document.querySelector('.feedback--response-no'),disableButtons=()=>{yesButton.disabled=!0,noButton.disabled=!0},sendFeedback=b=>{if(typeof ga!='function')return;const a={command:'send',hitType:'event',category:'Helpful',action:'click',label:window.location.pathname,value:b};ga(a.command,a.hitType,a.category,a.action,a.label,a.value)};yesButton.addEventListener('click',()=>{yesResponse.classList.add('feedback--response__visible'),disableButtons(),sendFeedback(1)}),noButton.addEventListener('click',()=>{noResponse.classList.add('feedback--response__visible'),disableButtons(),sendFeedback(0)})</script><br><div class="text-muted mt-5 pt-3 border-top">Last modified
August 26, 2022
: <a href=https://github.com/cloudwego/cloudwego.github.io/commit/3baea0a333b11d412fa33d6a53ac94c2a03b8d94>doc: add doc for xds (#311) (3baea0a)</a></div></div></main></div></div><footer class="bg-dark py-5 row d-print-none"><div class="container-fluid mx-sm-5"><div class=row><div class="col-6 col-sm-4 text-xs-center order-sm-2"></div><div class="col-6 col-sm-4 text-right text-xs-center order-sm-3"></div><div class="col-12 col-sm-4 text-center py-2 order-sm-2"><small class=text-white>&copy; 2022 The CloudWeGo Authors</small><p class="mt-2 text-white"><a class=cloudwego-link href=/about/ target=_blank rel=noopener>About</a>
|
<a class=cloudwego-link href=https://github.com/cloudwego/cloudwego.github.io/blob/main/LICENSE target=_blank rel=noopener>License</a></p></div></div></div></footer></div><script src=https://cdn.staticfile.org/popper.js/1.16.1/umd/popper.min.js integrity=sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN crossorigin=anonymous></script><script src=https://cdn.staticfile.org/bootstrap/4.6.0/js/bootstrap.min.js integrity=sha384-+YQ4JLhjyBLPDQt//I+STsc9iw4uQqACwlvpslubQzn4u2UU2UFM80nGisd026JF crossorigin=anonymous></script><script src=/js/main.min.cc7c4d018c27afc5b5c4e9ddd9f5b1fca60e2005312b12b5bec0518202c51314.js integrity="sha256-zHxNAYwnr8W1xOnd2fWx/KYOIAUxKxK1vsBRggLFExQ=" crossorigin=anonymous></script></body></html>